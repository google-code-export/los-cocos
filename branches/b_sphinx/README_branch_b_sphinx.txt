The branch's purpose is to migrate the cocos documentation from epydoc to sphinx.

Goals and scope:

  A functional sphinx builder

  No code changes allowed in the package cocos except for docstrings

  Avoid heavy sphinx customization (hard to mantain, entry barrier
  for new people)  

  Branch should be closed fast
    Polishing should be done later

    When parts not rendering in sphinx are limited to non critical components,
    close the branch and open issues for trunk
	
Changelog:

r1268 fix warnings about .pointer , ultimatelly from ctypes
r1267 fixed a lot of warnings coming from anchor's properties 
r1266 adopting most of pyglet sphinx customizations
r1265 fix warning api_reference not in any toctree
r1264 flag a sphinx run with sys.is_cocos_sphinx instead of sys.is_epydoc
r1263 fix traceback when autodoc attempts to handle cocos_particle
r1262 adds readme_issues_b_sphinx.txt to not forget pending issues
r1261 updating dev notes
r1260 fix encoding warnings for collision.txt
r1259 updating dev notes    
r1258 remove spurious copy of skeleton.txt
r1257 tweaks for 1st build including api reference
r1256 linking old documentation index, fixed most warnings
r1255 fix most of Programming Guide warnings
r1254 edited conf.py for basic options
r1253 tweak builders make.bat and Makefile
r1252 after running sphinx-quistart snapshoting doc 
r1251 doc\doc.css -> doc\doc.old.css
r1250 doc\index -> doc\index.old.txt
r1249 Added dev notes
r1248 Branch creation


Dev notes:

# Make room for generating sphinx skeleton with conventional names without
losing info

doc\index.txt -> doc\index.old.txt
doc\doc.css -> doc\doc.old.css
Commited r1250 & r1251

# run sphinx-quickstart
    cd D:\cocos_pristine\b_sphinx\doc
    c:\python26\scripts\sphinx-quickstart

It added 4 files:
    doc/Makefile
    doc/conf.py
    doc/index.txt
    doc/make.bat
And 3 empty directories:
    doc/_build
    doc/_static
    doc/_templates

No previous file modified.

Surely the new index and the old one would need to be convined; doc.old.css
probably should be deleted.

Checking in the new files / dirs without modifications for reference
Commited r1252

# Tweak the builders make.bat and Makefile
    1. dirty fix in make.bat, set the sphinx.build path. Reason: I have mulple
    pythons, dont wan't to put python26\scripts in the path.
    Better solution should come later.

            if "%SPHINXBUILD%" == "" (
                    set SPHINXBUILD=c:\python26\scripts\\sphinx-build
		)

    2. log build warnings in doc\warnings.log for debug , change in make.bat
	%SPHINXBUILD% -w warnings.log -b html %ALLSPHINXOPTS% %BUILDDIR%/html

    3. same as in 2. but for Makefile
	$(SPHINXBUILD) -w warnings.log -b html $(ALLSPHINXOPTS) $(BUILDDIR)/html

Commited r1253

# Edit doc\conf.py for basic configuration

    Agrego  ../ al principio de sys.path para que cuando autodoc importe cocos
    lo haga desde la WC. ( * a typo sliped, hence a wrong ./ used until r1263)
    
    seteo sys.is_epydoc para tener visibilidad de ciertas cosas mas amigables
    para documentar, tanto en pyglet como en cocos 
    
    agrego autosummary_generate = True
    
    agrego las extensions
      'sphinx.ext.autosummary',
      'sphinx.ext.inheritance_diagram'
      
    agrego dos params de extensiones que copie de pyglet
            inheritance_graph_attrs = dict(rankdir="LR", size='""')
            autodoc_member_order='groupwise'
            
    hago que la version de cocos se tome de cocos.version en vez de ponerla fija

    Hago que como fecha ponga * para que diffs entre corridas tengan menos ruido;
    es el setting today = ''
    
    Agrego _templates como patron a ignorar cuando recorre sourcedir

    Siguiendo a pyglet seteo add_module_names = False (para no agregar el module
    name a cosas como function)

    keep_warnings = True (creo que hace que los warnings se vean en el html)

    el titulo de la sidebar html_short_title = 'cocos'
	
Committed r1254

# make.bat builds the docs 1st time.
  Fix all warnings related to Programming Guide except some for unreferenced
  content. (except I missed to update doc/programming_guide/skeleton.txt,
  corrected at r1257-r1258)

Committed r1255

# linking old documentation from the sphinx generated doc\index
  Moved and adapted some info from index.old.txt to index.txt
  index.old.txt no longer needed, deleted
  Fixed all warnings except complains about a missing api/index

Committed r1256

# first try at autogeneration api reference
  Moving autogenerated doc/api/index to handtweaked doc/api_reference.txt
  Autogeneration explodes in cocos.particle and / or cocos.particle_system ;
  commenting out those modules in doc/api_reference.txt allows the build to
  complete.
  There are some warnings about encoding in collision.py, theres an excess of
  members listed; some tweaking needs to be done.

  Unrelated, updated doc/programming_guide/skeleton.txt which should have been
  part of r1255

Committed  r1257

# remove spurious copy of skeleton.txt

Commited r1258

# update this file
Committed  r1259

# fix encoding warnings for collision.txt
Committed r1260

# adds readme_issues_b_sphinx.txt to not forget pending issues
Committed r1261-r1262

# fix traceback when sphinx autodoc attempt to handle cocos_particle
A cocos window is created in conf.py before any autodoc atempt.
Probably pyglet should not see the epydoc flag, and cocos maybe should
not see it until the window is created.
Commited r1263

# refactor: flag a sphinx run with sys.is_cocos_sphinx instead of sys.is_epydoc
This allows to use stock pyglet while autodoc, not the pyglet is_epydoc version.
Also changed the point where the flag is set.
Commited r1264

# fix warning api_reference not in any toctree
Replaced a direct link in doc/index to document api_reference with a toctree
Committed r1265

# the big problem with the r1265 build is that all info for direct modules of
cocos ends in the same page.
The current ( f8da1dcafc85 ) pyglet documentation toolchain don't have that
defect, so I copied from there and adapted.
It uses a custom autosummary (seen in doc/ext), custom templates (the ones in
doc/_templates) and some custom code in conf.py
Committed r1266

# fixed a lot of warnings coming from anchor's properties
Committed r1267

# fix warnings about .pointer
All from modules doing 'from ctypes import *'
Now 0 warnings from the build.
Committed r1268

